webpackJsonp([4],{BXca:function(t,e){},CdBE:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAKAgMAAADEJeYyAAAACVBMVEUAAACJiYmIiIhpZNTrAAAAAnRSTlMAgJsrThgAAAAzSURBVAjXLYkxAQAgEITOxRCmMYI5TPMhXCSlDDIwQDZQGXqmw00anMRRejB1NzvMsvJ5NC4NmX6cWhIAAAAASUVORK5CYII="},Djff:function(t,e){},IoDo:function(t,e){},"PO/J":function(t,e){},QrUD:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={components:{loadmore:s("kGIt").a},props:{sortBy:{type:String},filterVals:{type:Array},changeFlag:!1}},a={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("loadmore",{attrs:{apiMethod:"productList",orderBy:t.sortBy,queryParamList:t.filterVals,changeFlag:t.changeFlag},scopedSlots:t._u([{key:"item",fn:function(e){return i("div",{},[i("router-link",{staticClass:"product-item list-item",class:{out:!e.item.status},attrs:{tag:"div",to:{path:"product-detail",query:{id:e.item.id}}}},[i("div",{staticClass:"product-img-wrap"},[e.item.productCompressImageHead?i("div",[e.item.productCompressImageHead?i("img",{staticClass:"hot-item-img",attrs:{src:"/api_images"+e.item.productCompressImageHead,alt:"props.item.productName"}}):t._e()]):i("div",[e.item.productImageHead?i("img",{staticClass:"hot-item-img",attrs:{src:"/api_images"+e.item.productImageHead,alt:"props.item.productName"}}):t._e()])]),t._v(" "),i("div",{staticClass:"product-info-wrap"},[i("p",{staticClass:"product-title"},[t._v(t._s(e.item.productName))]),t._v(" "),i("p",{staticClass:"product-points"},[i("span",[t._v(t._s(e.item.score)+"积分")]),1*e.item.money?i("span",[t._v("+ ¥"+t._s(e.item.money))]):t._e()]),t._v(" "),i("p",{staticClass:"product-price"},[t._v("市场参考价：¥"+t._s(e.item.marketPrice))])]),t._v(" "),e.item.downTime&&1*e.item.productStock?i("span",{staticClass:"endTime"},[t._v(t._s(e.item.downTime))]):t._e(),t._v(" "),e.item.productStock?t._e():i("div",{staticClass:"out"}),t._v(" "),e.item.productStock?t._e():i("img",{staticClass:"out-img",attrs:{src:s("Xn/d"),alt:""}})])],1)}}])})},staticRenderFns:[]};var r=s("Z0/y")(i,a,!1,function(t){s("Tsci")},"data-v-75866086",null).exports,o={data:function(){return{selectedSort:"upTime desc",popupVisibleSort:!1,curIndex:0,sortList:[{id:"upTime desc",title:"新品优先"},{id:"score asc",title:"积分从低到高"},{id:"score desc",title:"积分从高到低"}]}},props:{closeSortStatus:{type:Boolean}},watch:{closeSortStatus:function(){this.popupVisibleSort=!1}},mounted:function(){this.selectedSort=this.sortList[0].title},methods:{toggleSortList:function(){this.popupVisibleSort=!this.popupVisibleSort,this.$emit("closeFilter")},selecteSort:function(t){this.popupVisibleSort=!1,this.curIndex=t,this.selectedSort=this.sortList[t].title,this.$emit("changeSort",this.sortList[t].id)}}},n={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"sort"},[i("div",{staticClass:"selected-sort",on:{click:t.toggleSortList}},[t._v(t._s(t.selectedSort)+" "),i("img",{class:{hide:t.popupVisibleSort},attrs:{src:s("CdBE"),alt:""}})]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.popupVisibleSort,expression:"popupVisibleSort"}],staticClass:"popup-sort-pd"},[i("ul",t._l(t.sortList,function(e,s){return i("li",{key:e.id,class:{active:t.curIndex===s},on:{click:function(e){t.selecteSort(s)}}},[t._v(t._s(e.title))])}))]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.popupVisibleSort,expression:"popupVisibleSort"}],staticClass:"popup-bg",on:{click:function(e){t.popupVisibleSort=!1}}})])},staticRenderFns:[]};var c=s("Z0/y")(o,n,!1,function(t){s("IoDo")},null,null).exports,l=s("IHPB"),u=s.n(l),d={data:function(){return{filterData:{recommend:[{selection:"新品专区",choose:"",value:""},{selection:"积分全额兑",choose:"",value:""},{selection:"加购价",choose:"",value:""}],category:""},filterVisible:!1,recommendCurIndex:"",categoryCurIndexs:[],selectedRecommend:[],seletedFilter:{field:"phiProductType",type:"string",logic:"in",value:null,items:[]},queryParamList:[]}},created:function(){this.getFilter(),this.getCategory()},props:{closeFilterStatus:{type:Boolean}},watch:{closeFilterStatus:function(){this.filterVisible=!1}},methods:{categoryHandler:function(){var t=this;this.$route.query.category&&this.filterData.category&&this.filterData.category.length&&(this.filterData.category.forEach(function(e,s){e.code===t.$route.query.category&&(t.categoryCurIndexs.push(s),t.seletedFilter.items.push(e.code))}),this.queryParamList.push(this.seletedFilter),this.$emit("changeFilter",this.queryParamList))},getFilter:function(){var t=this;this.$api.productFilter().then(function(e){e=JSON.parse(e),console.log(e),(e=[].concat(u()(e),u()(t.filterData.recommend))).forEach(function(t,e){t.queryParamList=[];var s={field:"",type:"string",logic:"",value:"",items:[]};if(0===e&&(s.field="score",s.logic="<=",s.value=t.value,t.queryParamList.push(s)),1===e){var i=t.value.split(","),a={field:"",type:"string",logic:"",value:"",items:[]};s.field="score",s.logic=">=",s.value=i[0],a.field="score",a.logic="<=",a.value=i[1],t.queryParamList.push(a,s)}2===e&&(s.field="score",s.logic=">=",s.value=t.value,t.queryParamList.push(s)),3===e&&(s.field="upTime",s.type="upTime",s.logic=">=",s.value=null,t.queryParamList.push(s)),4===e&&(s.field="money",s.logic="in",s.item=[0,null],t.queryParamList.push(s)),5===e&&(s.field="money",s.logic="=",s.value="1",t.queryParamList.push(s))}),t.filterData.recommend=e,console.log(t.filterData.recommend)})},getCategory:function(){var t=this;this.$api.productCategory({type:"list"}).then(function(e){t.filterData.category=e,t.categoryHandler()})},selecteVal:function(t,e,s){if(1===t){var i=this.categoryCurIndexs.indexOf(e);-1!==i?(this.seletedFilter.items.splice(i,1),this.categoryCurIndexs.splice(i,1)):(this.seletedFilter.items.push(s),this.categoryCurIndexs.push(e))}else{if(this.recommendCurIndex===e)return void(this.recommendCurIndex=-1);this.recommendCurIndex=e,this.selectedRecommend=this.filterData.recommend[e].queryParamList}},confirmFilter:function(){this.filterVisible=!1,this.queryParamList=[],this.seletedFilter.items.length&&this.queryParamList.push(this.seletedFilter),this.selectedRecommend&&(this.queryParamList=[].concat(u()(this.queryParamList),u()(this.selectedRecommend))),console.log(this.queryParamList),this.queryParamList.length&&this.$emit("changeFilter",this.queryParamList)},closePopup:function(){this.filterVisible=!1},showPopup:function(){this.filterVisible=!this.filterVisible,this.$emit("closeSort")}}},p={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"list-filter"},[i("span",{staticClass:"selected-filter-val",on:{click:t.showPopup}},[i("img",{attrs:{src:s("XtkP"),alt:""}}),t._v("筛选")]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.filterVisible,expression:"filterVisible"}],staticClass:"list-filter-content"},[i("div",{staticClass:"rocommend"},[i("h4",{staticClass:"filter-title"},[t._v("推荐")]),t._v(" "),i("ul",t._l(t.filterData.recommend,function(e,s){return i("li",{key:e.selection,class:{active:t.recommendCurIndex===s},on:{click:function(e){t.selecteVal(2,s)}}},[i("p",{staticClass:"inner"},[i("span",{staticClass:"sec"},[t._v(t._s(e.selection))]),i("span",{staticClass:"sec"},[t._v(t._s(e.choose))])])])}))]),t._v(" "),t.filterData.category&&t.filterData.category.length?i("div",{staticClass:"rocommend"},[i("h4",{staticClass:"filter-title"},[t._v("分类")]),t._v(" "),i("ul",t._l(t.filterData.category,function(e,s){return i("li",{key:e.code,class:{active:t.categoryCurIndexs.includes(s)},on:{click:function(i){t.selecteVal(1,s,e.code)}}},[i("span",{staticClass:"inner"},[t._v(t._s(e.name))])])}))]):t._e(),t._v(" "),i("div",{staticClass:"btn-group-filter"},[i("button",{staticClass:"cancel-filter-btn",on:{click:t.closePopup}},[t._v("取消")]),t._v(" "),i("button",{staticClass:"confirm-filter-btn",on:{click:t.confirmFilter}},[t._v("应用")])])]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.filterVisible,expression:"filterVisible"}],staticClass:"popup-filter-bg",on:{click:t.closePopup}})])},staticRenderFns:[]};var m={data:function(){return{sortBy:"upTime desc",filterVals:[],closeSortStatus:!1,closeFilterStatus:!1,changeFlag:!1}},components:{productList:r,listSort:c,listFilter:s("Z0/y")(d,p,!1,function(t){s("PO/J")},null,null).exports},created:function(){},methods:{changeSort:function(t){this.sortBy=t,this.changeFlag=!this.changeFlag},changeFilter:function(t){this.filterVals=t,this.changeFlag=!this.changeFlag},closeSort:function(){this.closeSortStatus=!this.closeSortStatus},closeFilter:function(){this.closeFilterStatus=!this.closeFilterStatus}}},f={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"product-list page"},[s("mt-header",{attrs:{fixed:"",title:"商品列表"}},[s("div",{attrs:{slot:"left"},on:{click:function(e){t.$router.back()}},slot:"left"},[s("mt-button",{attrs:{icon:"back"}})],1)]),t._v(" "),s("div",{staticClass:"filter-handle"},[s("list-sort",{attrs:{closeSortStatus:t.closeSortStatus},on:{changeSort:t.changeSort,closeFilter:t.closeFilter}}),t._v(" "),s("list-filter",{attrs:{closeFilterStatus:t.closeFilterStatus},on:{changeFilter:t.changeFilter,closeSort:t.closeSort}})],1),t._v(" "),s("product-list",{attrs:{sortBy:t.sortBy,filterVals:t.filterVals,changeFlag:t.changeFlag}})],1)},staticRenderFns:[]};var h=s("Z0/y")(m,f,!1,function(t){s("Djff")},null,null);e.default=h.exports},Tsci:function(t,e){},"Xn/d":function(t,e){t.exports="data:image/png;base64,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"},XtkP:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAMAAAAM7l6QAAAAV1BMVEUAAABpaWlnZ2dqampnZ2dmZmZmZmZnZ2dmZmZmZmZmZmZnZ2dmZmZmZmZnZ2f///9mZmZmZmZmZmZnZ2dmZmZmZmZmZmZmZmZnZ2doaGh0dHSAgIBmZmblCr2ZAAAAHHRSTlMAEVk6lvzWuWOJ34vtfWkByLFxT/Pir6AvIAsE4KZw8AAAAIhJREFUKM/lyTkWgzAUQ1EZTCDGQ4DM0f7XGR8Ku/gfb4BXSMXF13rqPUICLI+LgOdm9AJHwHGF3otPIJKThsly6PNfdc/aAcVVFS60uFDhUqVLBebiVaVXlT588q26Ajd2+0aojTtf2J+OpxZb+q3BZiRDOmT8ZnJxhWXdnWww3q7JMIszqP0Bp80Q2AyUxyAAAAAASUVORK5CYII="},upLI:function(t,e){},wSml:function(t,e){},zGr5:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("yclV"),a={data:function(){return{}},props:{productImgs:{default:Array}},computed:{swiperHeight:function(){return document.documentElement.clientWidth}}},r={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("mt-swipe",{style:{height:t.swiperHeight+"px"},attrs:{auto:4e3}},t._l(t.productImgs,function(e,i){return t.productImgs&&t.productImgs.length?s("mt-swipe-item",{key:i},[s("img",{staticStyle:{width:"100%",height:"100%"},attrs:{src:"/api_images"+e,alt:e}})]):t._e()}))},staticRenderFns:[]};var o=s("Z0/y")(a,r,!1,function(t){s("BXca")},"data-v-5ad9026c",null).exports,n={props:{info:{default:Object}}},c={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"product-detail-info"},[s("div",{staticClass:"pd-content"},[s("h3",{staticClass:"title"},[t._v(t._s(t.info.productName))]),t._v(" "),s("div",{staticClass:"info"},[s("p",{staticClass:"points"},[t._v(t._s(t.info.score)+"积分\n        "),1*t.info.money?s("span",{staticClass:"price"},[t._v("+ ¥"+t._s(t.info.money))]):t._e(),t._v(" "),s("span",{staticClass:"counter"},[t._v("数量"+t._s(t.info.productStock)+"个")])]),t._v(" "),s("p",{staticClass:"sales-price"},[t._v("市场参考价: ¥"+t._s(t.info.marketPrice))])])]),t._v(" "),t.info.downTime?s("p",{staticClass:"end-time"},[t._v("即将于"+t._s(t.info.downTime)+"结束")]):t._e()])},staticRenderFns:[]};var l={data:function(){return{productImgs:"",info:"",isDisabled:!1,btnTitle:"立即兑换",exchangeStatus:"",productClass:""}},components:{productSwiper:o,productInfo:s("Z0/y")(n,c,!1,function(t){s("upLI")},null,null).exports},created:function(){this.getDetail()},methods:{getDetail:function(){var t=this,e={id:this.$route.query.id,memberId:"5"};this.$api.productDetail(e).then(function(e){t.productImgs=e.productImageHeadsList||[],t.info=e,t.productClass=1*e.productClass,t.setBtnStatus()})},setBtnStatus:function(){if(1*this.info.productStock==0)return this.isDisabled=!0,void(this.btnTitle="来晚了");1*this.info.todayIsOpen&&(1*this.info.todayIsOpen==="1"&&(this.btnTitle="已开奖"),this.isDisabled=!0,this.btnTitle="今日开奖")},exchangePoints:function(){var t=this;if(!this.isDisabled){if(this.info.todayIsOpen&&1*this.info.todayIsOpen==="1")return this.$router.push({name:"prizeList",query:{id:this.$route.query.id}});var e=void 0;1*this.info.productClass==3?(e="本次兑换将消耗"+this.info.score+"积分,兑换【华夏】的券，需要注册成为该平台会员,确认兑换吗？",this.info.money&&1*this.info.money&&(e="本次兑换将消耗"+this.info.score+"积分，并支付¥"+this.info.money+",兑换【华夏】的券，需要注册成为该平台会员,确认兑换吗？")):(e="本次兑换将消耗"+this.info.score+"积分,确认兑换吗？",this.info.money&&1*this.info.money&&(e="本次兑换将消耗"+this.info.score+"积分，并支付¥"+this.info.money+",确认兑换吗？")),this.$messagebox.confirm(e,"").then(function(e){if(2===t.productClass){var s=0;return 1*t.info.money>0&&(s=1),t.$router.push({name:"addressList",query:{id:t.$route.query.id,needPay:s}})}var a={id:t.$route.query.id,memberId:"5"};t.$api.productExchange(a).then(function(e){if(t.exchangeStatus=e,"success"===e.type)if(e.text=JSON.parse(e.text),1*t.info.money>0){var s=e.text;Object(i.d)("paPara",s),t.$router.push("/payment")}else 1*t.info.productClass==1?t.$router.push({name:"exchangeSuccess",query:{type:e.type,time:t.info.winnerTime}}):t.$router.push({name:"exchangeSuccess",query:{type:e.type}});else"warning"===e.type&&(t.isDisabled=!0,t.$toast(e.text),t.btnTitle=e.text)})}).catch(function(t){console.log(t)})}}}},u={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"product-detail page"},[s("mt-header",{attrs:{fixed:"",title:"商品详情"}},[s("div",{attrs:{slot:"left"},on:{click:function(e){t.$router.back()}},slot:"left"},[s("mt-button",{attrs:{icon:"back"}})],1)]),t._v(" "),s("product-swiper",{attrs:{productImgs:t.productImgs}}),t._v(" "),s("product-info",{attrs:{info:t.info}}),t._v(" "),t.info.procuctDetailImageList&&t.info.procuctDetailImageList.length||t.info.remark?s("div",{staticClass:"pd-detail-wrap"},[s("p",{staticClass:"title"},[t._v("商品详情")]),t._v(" "),t.info.remark?s("div",{staticClass:"pd-detail-remark"},[t._v(t._s(t.info.remark))]):t._e(),t._v(" "),t.info.procuctDetailImageList&&t.info.procuctDetailImageList.length?s("div",{staticClass:"detail-imgs"},t._l(t.info.procuctDetailImageList,function(t,e){return s("img",{key:e,attrs:{src:"/api_images"+t,alt:"img"}})})):t._e()]):t._e(),t._v(" "),s("button",{staticClass:"exchange-btn",class:{disable:t.isDisabled},attrs:{size:"large",type:"primary"},on:{click:t.exchangePoints}},[t._v("\n    "+t._s(t.btnTitle)+"\n  ")])],1)},staticRenderFns:[]};var d=s("Z0/y")(l,u,!1,function(t){s("wSml")},null,null);e.default=d.exports}});